在登录模块
通过采用多个拦截器来刷新redis中token的有效期
在查询商品模块 通过返回空字符串或者null来预防缓存穿透，同时通过逻辑过期的方法来放置缓存击穿
在更新商品模块 通过先更新数据库在删除redis中的数据的方式以及开启事务的方式来达到数据的一致性

乐观锁实现下单
~~~ java
 if (voucher.getStock() < 1) {
            return Result.fail("库存不足！");
        }
        //5，扣减库存
        boolean success = seckillVoucherService.update()
                .setSql("stock= stock -1")
                .gt("stock", 0).update();
        if (!success) {
            return Result.fail("库存不足！");
        }
~~~
通过在查询语句的时候用>减少出错
```java
 if (voucher.getStock() < 1) {
        // 库存不足
        return Result.fail("库存不足！");
    }
    //5，扣减库存
    boolean success = seckillVoucherService.update()
            .setSql("stock= stock -1")
            .eq("voucher_id", voucherId).update();
    if (!success) {
        //扣减库存
        return Result.fail("库存不足！");
    }
```
等于号出错比较高